<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Native Azure integration | Elasticsearch Service Documentation [master] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Service Documentation [master]"/>
<link rel="up" href="ec-marketplaces.html" title="Subscribing from a marketplace"/>
<link rel="prev" href="ec-billing-azure.html" title="Azure Marketplace"/>
<link rel="next" href="ec-billing-gcp.html" title="GCP Marketplace"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference/master"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation [master]</a></span>
»
<span class="breadcrumb-link"><a href="ec-marketplaces.html">Subscribing from a marketplace</a></span>
»
<span class="breadcrumb-node">Native Azure integration</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ec-billing-azure.html">« Azure Marketplace</a>
</span>
<span class="next">
<a href="ec-billing-gcp.html">GCP Marketplace »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-azure-marketplace-native"></a>Native Azure integration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/master/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>The Elastic Cloud native Azure integration allows you to deploy managed instances of the Elastic Stack directly in Azure, through the Azure integrated marketplace. The integration brings the following benefits:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Easy deployment for managed Elastic Stack instances</strong></span></p>
<p>Elastic Stack instances managed by Elastic can be deployed directly from the Azure console. This provides the complete Elastic Stack experience with all commercial features.</p>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Integrated billing</strong></span></p>
<p>You are billed directly to your Azure account; no need to configure billing details in Elastic.</p>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Easy consolidation of your Azure logs in Elastic</strong></span></p>
<p>Use a one-click setup to ingest logs from your Azure services into the Elastic Stack.</p>
</li>
</ul>
</div>
<p>See the following sections to learn more:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Getting started</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-get-started">How do I get started?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-pricing">What is the pricing for this offer?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-regions">Which Azure regions are supported?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-subscription-levels">Which Elastic Cloud subscription levels are available?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-change-subscription">How can I change my Elastic Cloud subscription level?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-user-management">Is the Elasticsearch native integration connected with Azure user management?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-prior-cloud-account">I already have an Elastic Cloud account, can I use this integration?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-tenant">Does Elasticsearch get deployed into my tenant in Azure?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-cli-api">Can I deploy Elasticsearch using the Azure CLI, REST API, or an ARM Template?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Managing your Elastic Stack deployment</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-whats-included">What is included in my Elastic Stack deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-how-to-access">How can I access my Elastic Stack deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-modify-deployment">How can I modify my Elastic Stack deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-delete-deployment">How can I delete my Elastic Stack deployment?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Configuring logs and metrics</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-monitor">How do I monitor my existing Azure services?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-ingest-metrics">How do I ingest metrics from my Azure services?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-vm-extensions">How can I monitor my Azure virtual machines in Elasticsearch?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Support</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">How do I get support?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-change-level">How can I change my subscription level / support level?</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3><a id="ec-azure-integration-getting-started"></a>Getting started<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/master/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-get-started"></a>How do I get started with Elastic Cloud?
</span>
</dt>
<dd>
<p>
Elastic Cloud is available as an offering through the Azure console.
</p>
<p><span class="strong strong"><strong>Prerequisites</strong></span></p>
<p>Before setting up an Elastic Cloud deployment, make sure that these two requirements are met:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To deploy Elasticsearch, you first must be configured in Azure as a subscription <em>Owner</em>. See <a href="https://docs.microsoft.com/en-us/azure/cost-management-billing/manage/add-change-subscription-administrator#assign-a-subscription-administrator" class="ulink" target="_top">Assign a subscription administrator</a> in the Azure documentation for steps to assign an <em>Owner</em> role.
</li>
<li class="listitem">
When you create an Elasticsearch resource in Azure you cannot use an email address that already has an Elastic Cloud account. If your Azure account address is currently used for an Elastic Cloud account, either use a different Azure account to set up the Elasticsearch resource, or <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">contact the Elastic Support Team</a> for assistance.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Getting started</strong></span></p>
<p>Once you&#8217;re configured in Azure as a subscription owner, you can access Elastic Cloud in two ways:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Search for <code class="literal">elastic</code> in the Azure Search bar. On the results page, the <code class="literal">Elasticsearch</code> link under the <span class="strong strong"><strong>Services</strong></span> menu will open a page that guides you through deploying the Elastic Stack.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure002.png" alt="Search results showing Elasticsearch at the top of a list under Services">
</div>
</div>
</li>
<li class="listitem">
Navigate to the Azure <span class="strong strong"><strong>Marketplace</strong></span> page. There, you&#8217;ll see the Elastic native integration listed as <span class="strong strong"><strong>Elasticsearch (Elastic Cloud) - Preview</strong></span>. Click the link and follow the on-screen steps to deploy the Elastic Stack.
</li>
</ol>
</div>
<p>When you create a deployment, an Elastic Stack cluster is created for you. The size of this deployment is <span class="strong strong"><strong>16GB of RAM</strong></span> and <span class="strong strong"><strong>480GB of storage</strong></span>, across <span class="strong strong"><strong>two availability zones</strong></span> for redundancy. The size of the deployment, both RAM and storage, can be changed directly in the Elastic console. Usage charges are based on the size of your deployment so ensure that your instance is sized efficiently. The deployment defaults to the latest available version of the Elastic Stack. See our <a class="xref" href="ec-version-policy.html" title="Version policy">Version policy</a> to learn more about when new versions are made available and old versions are removed from service.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-pricing"></a>What is the pricing for this offer?
</span>
</dt>
<dd>
<p>
Pricing is pay-as-you-go per hour for each Elastic Stack deployment that you have created. Note that there is no free trial period for the offering. Charges are applied to your Azure bill at the end of the month. You can use the Elastic Cloud <a href="/cloud/elasticsearch-service/pricing?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Pricing Calculator</a> to size a deployment and view the corresponding hourly rate.
</p>
<p>Elastic charges include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/pricing" class="ulink" target="_top">Hourly consumption based on your active deployments</a>
</li>
<li class="listitem">
<a href="https://cloud.elastic.co/deployment-pricing-table" class="ulink" target="_top">Data transfer and snapshot storage charges</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-regions"></a>Which Azure regions are supported?
</span>
</dt>
<dd>
Currently, the <code class="literal">West US 2 - Washington</code> and <code class="literal">UK South (London)</code> regions are supported for the Azure native integration. In the near future, all <a href="/guide/en/cloud/current/ec-reference-regions.html#ec_azure_regions" class="ulink" target="_top">Azure regions that are supported in Elastic Cloud</a> will be available.
</dd>
<dt>
<span class="term">
<a id="azure-integration-subscription-levels"></a>Which Elastic Cloud subscription levels are available?
</span>
</dt>
<dd>
Elastic Cloud offers a number of different <a href="https://elastic.co/pricing" class="ulink" target="_top">subscription levels</a>. Your Elastic Cloud subscription will default to the Platinum subscription, giving you immediate access to advanced Elastic Stack features like machine learning, as well as premium support response time SLAs.
</dd>
<dt>
<span class="term">
<a id="azure-integration-change-subscription"></a>How can I change my Elastic Cloud subscription level?
</span>
</dt>
<dd>
<p>
You can modify your subscription level on the billing page in the Elastic console.
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the Elastic Stack <span class="strong strong"><strong>list deployments</strong></span> page in Azure. From here, you can view any existing Elastic Stack deployments that you have created.
</li>
<li class="listitem">
Click on a deployment to open the deployment overview page.
</li>
<li class="listitem">
<p>Click the <span class="strong strong"><strong>Advanced Settings</strong></span> link to access your deployment in the Elastic Cloud console.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure008.png" alt="The deployment overview page in Azure with the change my subscription link highlighted">
</div>
</div>
</li>
<li class="listitem">
In the Elastic Cloud console, click your account avatar icon at the top of the page, and then select <span class="strong strong"><strong>Account &amp; Billing</strong></span>.
</li>
<li class="listitem">
<p>Select the <span class="strong strong"><strong>Billing</strong></span> tab and click <span class="strong strong"><strong>Change my subscription</strong></span>.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure009.png" alt="The Elastic Account Billing page with Advanced Settings highlighted">
</div>
</div>
</li>
<li class="listitem">
<p>Select the <a href="https://elastic.co/pricing" class="ulink" target="_top">subscription level</a> that you&#8217;d like.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure006.png" alt="The Update Subscription page showing Standard" width="Gold" height="Platinum">
</div>
</div>
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-azure-user-management"></a>Is the Elasticsearch native integration connected with Azure user management?
</span>
</dt>
<dd>
No. Elastic is not currently integrated with Azure user management. Users that deploy Elasticsearch on Azure will be able to view and manage their own resources. However other Azure users in the same tenant will not be able to access the cluster. We recommend <a class="xref" href="ec-securing-clusters-oidc-op.html#ec-securing-oidc-azure" title="Setting up OpenID Connect with Azure">configuring Active Directory single sign-on with the Elasticsearch cluster</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-prior-cloud-account"></a>I already have an Elastic Cloud account, can I use this integration?
</span>
</dt>
<dd>
Yes. If you already have an Elastic Cloud account with the same email address as your Azure account you may need to contact <a href="mailto:support@elastic.co" class="ulink" target="_top">support@elastic.co</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-azure-tenant"></a>Does Elasticsearch get deployed into my tenant in Azure?
</span>
</dt>
<dd>
No. Elasticsearch resources get deployed in an Azure tenant that is managed by Elastic. This tenant, and the management capabilities associated with it, are the same that are used to run Elastic&#8217;s managed service, which also allows users to deploy on Azure.
</dd>
<dt>
<span class="term">
<a id="azure-integration-cli-api"></a>Can I deploy Elasticsearch using the Azure CLI, REST API, or an ARM Template?
</span>
</dt>
<dd>
<p>
Currently, Elasticsearch cannot be deployed on Azure using these methods. You can use any of the following methods instead:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Azure console
</li>
<li class="listitem">
The Elastic Cloud <a href="https://cloud.elastic.co?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">console</a>
</li>
<li class="listitem">
The Elastic Cloud <a class="xref" href="ec-restful-api.html" title="RESTful API">RESTful API</a>
</li>
<li class="listitem">
The Elastic Cloud <a href="/guide/en/ecctl/current/index.html" class="ulink" target="_top">command line tool</a>
</li>
<li class="listitem">
The Elastic Cloud <a href="https://registry.terraform.io/providers/elastic/ec/latest/docs" class="ulink" target="_top">Terraform provider</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="ec-azure-integration-managing-deployment"></a>Managing your Elastic Stack deployment<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/master/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-whats-included"></a>What is included in my Elastic Stack deployment?
</span>
</dt>
<dd>
<p>
Each Elastic Stack deployment includes a number of Elastic Stack components:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An Elasticsearch cluster
</li>
<li class="listitem">
A Kibana instance which provides data visualization and a front-end for the Elastic Stack
</li>
<li class="listitem">
An APM server that allows you to easily collect application traces
</li>
<li class="listitem">
An Enterprise Search instance that allows you to easily build a search experience with an intuitive interface
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-how-to-access"></a>How can I access my Elastic Stack deployment?
</span>
</dt>
<dd>
<p>
You can access your Elastic Stack deployment in a few ways. First, you need to navigate to the deployment overview page in Azure:
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the Elastic Stack <span class="strong strong"><strong>list deployments</strong></span> page in Azure. From here, you can view any existing Elastic Stack deployments that you have created.
</li>
<li class="listitem">
<p>Click on a deployment to open the deployment overview page.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure003.png" alt="The deployment overview page in Azure">
</div>
</div>
<p>You now have a few options to access your deployment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elasticsearch endpoint</strong></span> - the URL for the Elasticsearch cluster itself
</li>
<li class="listitem">
<span class="strong strong"><strong>Kibana endpoint</strong></span> - the UI for the Elastic Stack, a great way for new users to get started
</li>
<li class="listitem">
<span class="strong strong"><strong>Elastic Cloud</strong></span> - Click the <span class="strong strong"><strong>Advanced Settings</strong></span> link to access your deployment in the Elastic Cloud console, where you can make changes such as resizing or upgrading your deployment.
</li>
</ul>
</div>
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-modify-deployment"></a>How can I modify my Elastic Stack deployment?
</span>
</dt>
<dd>
<p>
You can modify your Elastic Stack deployment in the Elastic Cloud console, which you can access from the Azure UI through the <span class="strong strong"><strong>Advanced Settings</strong></span> link on the deployment overview page. In the Elastic Cloud console you can perform a number of actions against your deployment, including:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-customize-deployment-components.html" title="How can I customize the components of my deployment?">Re-size</a> to increase or decrease the amount of RAM, CPU, and storage available to your deployment, or to add additional availability zones.
</li>
<li class="listitem">
<a class="xref" href="ec-upgrade-deployment.html" title="Upgrade versions">Upgrade</a> your deployment to a new Elastic Stack version.
</li>
<li class="listitem">
Enable or disable individual Elastic Stack components such as APM, Machine Learning, and Enterprise Search.
</li>
<li class="listitem">
<a class="xref" href="ec-migrate-templates.html" title="Migrate to a hot-warm architecture">Configure a warm tier</a> for a hot-warm deployment.
</li>
<li class="listitem">
<a class="xref" href="ec-editing-user-settings.html" title="Edit your user settings">Update Elastic Stack user settings</a> in the component YML files.
</li>
<li class="listitem">
<a class="xref" href="ec-adding-plugins.html" title="Add plugins">Add or remove custom plugins</a>.
</li>
<li class="listitem">
<a class="xref" href="ec-traffic-filtering-deployment-configuration.html" title="Traffic Filtering">Configure IP filtering</a>.
</li>
<li class="listitem">
<a class="xref" href="ec-enable-logging-and-monitoring.html" title="Enable logging and monitoring">Monitor your Elastic Stack deployment</a> to ensure it remains healthy.
</li>
<li class="listitem">
Add or remove API keys to use the <a class="xref" href="ec-restful-api.html" title="RESTful API">REST API</a>.
</li>
<li class="listitem">
<a class="xref" href="ec-getting-started.html" title="Getting started">And more</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-delete-deployment"></a>How can I delete my Elastic Stack deployment?
</span>
</dt>
<dd>
<p>
You can delete your deployment directly from the Azure console. The delete operation, when evoked from Azure, will perform clean-up activities in the Elastic console to ensure any running components are removed, so that no additional charges occur.
</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure007.png" alt="The deployment overview page in Azure with the Delete button highlighted">
</div>
</div>
</dd>
</dl>
</div>
<h3><a id="ec-azure-logs-and-metrics"></a>Configuring logs and metrics<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/master/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-monitor"></a>How do I monitor my existing Azure services?
</span>
</dt>
<dd>
<p>
The Elastic Cloud native Azure integration greatly simplifies logging for Azure services with the Elastic Stack. This integration supports the easy setup of Azure platform logs, including:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Azure subscription logs
</li>
<li class="listitem">
Azure resources logs (see <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/essentials/resource-logs-categories?WT.mc_id=Portal-Azure_Marketplace_Elastic" class="ulink" target="_top">Supported categories for Azure Resource Logs</a> for examples)
</li>
</ul>
</div>
<p>The following log types are not supported as part of this integration:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Azure tenant logs
</li>
<li class="listitem">
Logs from Azure compute services, such as Virtual Machines
</li>
</ul>
</div>
</dd>
</dl>
</div>
<p>In the Azure console, you can configure ingestion of Azure logs into either a new or existing Elastic Stack deployment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When you create a new deployment, from the <span class="strong strong"><strong>Logs &amp; metrics</strong></span> tab in Azure you can specify the log type and a key/value tag pair. Any Azure resources that match on the tag value will automatically send log data to the Elastic Stack deployment, once it’s been created.
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure004.png" alt="The Logs &amp; Metrics tab on the Create Elastic Resource page">
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For existing deployments, you can configure Azure logs from the deployment overview page in the Azure console.
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Note that following restrictions for logging:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only logs from non-compute Azure services are ingested as part of the above configuration. Logs from compute services, such as Virtual Machines, into the Elastic Stack will be added in a future release.
</li>
</ul>
</div>
<div id="ec-supported-regions" class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>The Azure services must be running in one of the following regions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Eastus
</li>
<li class="listitem">
Eastus2
</li>
<li class="listitem">
Westus2
</li>
<li class="listitem">
Southcentralus
</li>
<li class="listitem">
Uksouth
</li>
<li class="listitem">
Southeastasia
</li>
<li class="listitem">
Westeurope
</li>
<li class="listitem">
Australiaeast
</li>
<li class="listitem">
Northeurope
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>All regions will be supported in the future.</p>
</div>
</div>
<p>To see which of your Azure resources are currently being monitored, navigate to your Elasticsearch deployment and open the <span class="strong strong"><strong>Monitored resources</strong></span> tab. Each resource shows one of the following status indicators:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>Sending</em> - Logs are currently being sent to the Elasticsearch cluster.
</li>
<li class="listitem">
<em>Logs not configured</em> - Log collection is currently not configured for the resource. Click the <span class="strong strong"><strong>Edit tags</strong></span> link to configure which logs are collected. For details about tagging resources, see <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/tag-resources?tabs=json" class="ulink" target="_top">Use tags to organize your Azure resources and management hierarchy</a> in the Azure documentation.
</li>
<li class="listitem">
<em>N/A</em> - Monitoring is not available for this resource type.
</li>
<li class="listitem">
<em>Limit reached</em> - Azure resources can send diagnostic data to a maximum of five outputs. Data is not being sent to the Elasticsearch cluster because the output limit has already been reached.
</li>
<li class="listitem">
<em>Failed</em> - Logs are configured but failed to ship to the Elasticsearch cluster. For help resolving this problem you can <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">contact Support</a>.
</li>
<li class="listitem">
<em>Region not supported</em> - The Azure resource must be in one of the <a class="xref" href="ec-azure-marketplace-native.html#ec-supported-regions">supported regions</a>.
</li>
</ul>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-ingest-metrics"></a>How do I ingest metrics from my Azure services?
</span>
</dt>
<dd>
Metrics are not supported as part of the current native integration. This will be implemented in a future phase. Metrics can still be collected from all Azure services by configuring <a href="/guide/en/beats/metricbeat/7.13/metricbeat-module-azure.html" class="ulink" target="_top">Metricbeat</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-vm-extensions"></a>How can I monitor my Azure virtual machines in Elasticsearch?
</span>
</dt>
<dd>
<p>
You can monitor your Azure virtual machines by installing the Elastic Agent VM extension. Once enabled, the VM extension downloads the Elastic Agent, installs it, and enrols it to the Fleet Server. The Elastic Agent will then send system related logs and metrics to the Elastic Cloud cluster where you can find pre-built system dashboards showing the health and performance of your virtual machines.
</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure010.png" alt="A dashboard showing system metrics for the VM" width="such as CPU usage" height="Memory usage">
</div>
</div>
<p><span class="strong strong"><strong>Enabling and disabling VM extensions</strong></span></p>
<p>To enable or disable a VM extension:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Azure, navigate to your Elasticsearch deployment.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Virtual machines</strong></span> tab
</li>
<li class="listitem">
Select one or more virtual machines
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Install Extension</strong></span> or <span class="strong strong"><strong>Uninstall Extension</strong></span>.
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure011.png" alt="The Virtual Machines page in Azure">
</div>
</div>
<p>While it&#8217;s possible to enable or disable a VM extension directly from the VM itself, we recommend always enabling or disabling your Elasticsearch VM extensions from within the context of your Elasticsearch deployment.</p>
<p><span class="strong strong"><strong>Managing the Elastic Agent VM extension</strong></span></p>
<p>Once installed on the virtual machine, you can manage Elastic Agent either from Fleet or locally on the host where it&#8217;s installed. We recommend managing the VM extension through Fleet, because it makes handling and upgrading the agents considerably easier. For more information on the Elastic Agent, see <a href="/guide/en/fleet/7.13/elastic-agent-installation-configuration.html" class="ulink" target="_top">Manage your Elastic Agents</a>.</p>
<p><span class="strong strong"><strong>Operating system compatibility matrix</strong></span></p>
<p>The Azure Elastic Agent VM extension is supported on the following operating systems:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top"><span class="strong strong"><strong>Platform</strong></span></th>
<th align="left" valign="top"><span class="strong strong"><strong>Version</strong></span></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Windows</p></td>
<td align="left" valign="top"><p>2008r2+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>CentOS</p></td>
<td align="left" valign="top"><p>6.10+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Debian</p></td>
<td align="left" valign="top"><p>9,10</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Oracle</p></td>
<td align="left" valign="top"><p>6.8+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>RHEL</p></td>
<td align="left" valign="top"><p>7+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Ubuntu</p></td>
<td align="left" valign="top"><p>16+</p></td>
</tr>
</tbody>
</table>
</div>
</dd>
</dl>
</div>
<h3><a id="ec-getting-support"></a>Getting support<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/master/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-support"></a>How do I get support?
</span>
</dt>
<dd>
<p>
Support is provided by Elastic. To open a support case:
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to the deployment overview page in the Azure console.
</li>
<li class="listitem">
Click the Support tab.
</li>
<li class="listitem">
<p>Click on the link to launch the Elastic console where you can provide further details.</p>
<p>A member of the Elastic Support team will respond based on the SLA response time of your subscription.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure005.png" alt="The New Support Request page in Azure" width="from the menu under Support + Troubleshooting">
</div>
</div>
</li>
</ol>
</div>
<p>In case your Elastic Cloud resource is not fully set up and you&#8217;re not able to access the Support page, you can always send an email to <a href="mailto:support@elastic.co" class="ulink" target="_top">support@elastic.co</a>.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-change-level"></a>How can I change my subscription level / support level?
</span>
</dt>
<dd>
Your Elastic subscription level includes the support level. See <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-change-subscription">How can I change my Elastic Cloud subscription level?</a> to make an update.
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ec-billing-azure.html">« Azure Marketplace</a>
</span>
<span class="next">
<a href="ec-billing-gcp.html">GCP Marketplace »</a>
</span>
</div>
</div>
</body>
</html>
