<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Migrating to 7.13 | Elasticsearch Guide [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.x]"/>
<link rel="up" href="breaking-changes.html" title="Migration guide"/>
<link rel="prev" href="breaking-changes.html" title="Migration guide"/>
<link rel="next" href="migrating-7.12.html" title="Migrating to 7.12"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="breaking-changes.html">Migration guide</a></span>
»
<span class="breadcrumb-node">Migrating to 7.13</span>
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="migrating-7.12.html">Migrating to 7.12 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating-7.13"></a>Migrating to 7.13<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h2>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 7.13.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 7.13"><em>What&#8217;s new in 7.13</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<h3><a id="breaking-changes-7.13"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h3>
<p>The following changes in Elasticsearch 7.13 might affect your applications
and prevent them from operating normally.
Before upgrading to 7.13, review these changes and take the described steps
to mitigate the impact.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Breaking changes introduced in minor versions are
normally limited to security and bug fixes.
Significant changes in behavior are deprecated in a minor release and
the old behavior is supported until the next major release.
To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
</div>
</div>
<h4><a id="breaking_713_mapping_changes"></a>Mapping changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h4>
<details id="geo-mappers-external-values">
<summary class="title">Geo mappers no longer accept external values from multifields.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In earlier versions, geo fields could theoretically be used as a subfield
if their parent field set a geometry object as an external value during
parsing. This functionality was unused within the Elasticsearch codebase and
blocked required changes to allow index-time scripts on <code class="literal">geo_point</code> fields,
so it has been removed.</p>
</div>
</details>
<details id="geo-point-geohash-subfields">
<summary class="title">Geopoint mappers pass geohashes to subfields one-by-one.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In earlier versions, a multiply-valued geopoint field would pass
its values as geohashes to subfields by combining them in to a single
comma-delimited string. These are now passed one-by-one as single
geohash strings.</p>
</div>
</details>
<h4><a id="breaking_713_frozen_multiple_data_paths_changes"></a>Frozen tier and multiple data paths changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h4>
<p>Elasticsearch 7.12 included a technical preview of the frozen tier, being able to use
partially mounted indices (searchable snapshots mounted with the shared cache
option). Trying out this feature required configuring a shared cache using the
<code class="literal">xpack.searchable.snapshot.shared_cache.size</code> setting.</p>
<p>In Elasticsearch 7.13+, having a non-zero <code class="literal">xpack.searchable.snapshot.shared_cache.size</code>
on nodes utilizing multiple data paths (<code class="literal">path.data</code> points to multiple
locations) is no longer supported and will prevent the node from starting. If
you do not utilize multiple data paths this will not affect you. Likewise, if
you have not set <code class="literal">xpack.searchable.snapshot.shared_cache.size</code> and have not
configured dedicated frozen nodes (nodes with the <code class="literal">data_frozen</code> role and no
other data roles) this will not affect you.</p>
<h3><a id="deprecated-7.13"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h3>
<p>The following functionality has been deprecated in Elasticsearch 7.13
and will be removed in 8.0.
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you take the described steps to update your code
after upgrading to 7.13.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Significant changes in behavior are deprecated in a minor release and
the old behavior is supported until the next major release.
To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
</div>
</div>
<h4><a id="breaking_713_agg_deprecations"></a>Aggregation deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h4>
<details id="breaking_713_boolean-field-support-deprecated-date-aggs">
<summary class="title">Date aggregations on <code class="literal">boolean</code> fields are deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Support for auto-interval date histogram, date histogram, and date range
aggregations on <code class="literal">boolean</code> fields is now deprecated. On <code class="literal">boolean</code> fields, these
aggregations are rarely useful and often unintended.</p>
</div>
</details>
<h4><a id="breaking_713_infra_core_deprecations"></a>Core deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h4>
<details id="multiple-data-path-support-deprecated">
<summary class="title">Multiple data path support is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Support for multiple paths in the <code class="literal">path.data</code> setting is now deprecated. We
introduced this option as a way to support multi-disk setups. It has since been
a source of user complaints due to confusing and unintuitive behavior.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Specify a single path in <code class="literal">path.data</code>. To use multiple disks, use a RAID
hardware configuration or similar hardware solution.</p>
</div>
</details>
<details id="action-destructive-defaults-to-true">
<summary class="title">The <code class="literal">action.destructive_requires_name</code> setting will default to <code class="literal">true</code> in 8.0.0.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In 8.0.0, the <code class="literal">action.destructive_requires_name</code> setting will default to <code class="literal">true</code>.
Currently, the setting defaults to <code class="literal">false</code>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you use a wildcard (<code class="literal">*</code>) or <code class="literal">_all</code> to delete indices or perform other
destructive actions, use the <a href="/guide/en/elasticsearch/reference/7.x/cluster-update-settings.html" class="ulink" target="_top">update cluster
settings API</a> to set <code class="literal">action.destructive_requires_name</code> to <code class="literal">false</code> to avoid
errors in 8.0.0.</p>
</div>
</details>
<h4><a id="breaking_713_eql_deprecations"></a>EQL deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h4>
<details id="wildcard-function-deprecated">
<summary class="title">The <code class="literal">wildcard</code> function is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Impact</strong></span><br>
Use the <a class="xref" href="eql-syntax.html#eql-syntax-pattern-comparison-keywords" title="Pattern comparison keywords"><code class="literal">like</code></a> or
<a class="xref" href="eql-syntax.html#eql-syntax-pattern-comparison-keywords" title="Pattern comparison keywords"><code class="literal">regex</code></a> keyword instead.</p>
</div>
</details>
<h4><a id="breaking_713_security_changes"></a>Security deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/migration/migrate_7_13.asciidoc">edit</a></h4>
<details id="implicitly-disabled-basic-realms">
<summary class="title">Implicit enablement of the file and native realms is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Currently, the file and native realms have the following implicit behaviors:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If file and native realms are not configured, they are implicitly disabled
if there are other explicitly configured realms.
</li>
<li class="listitem">
If no realm is available because realms are unconfigured, explicitly
disabled, or not allowed by your license, the file and native realms are always
enabled, even if explicitly disabled.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Both of the above behaviors are deprecated. In 8.0.0, the file and
native realms will always be enabled unless explicitly disabled. If they are
explicitly disabled, they remain disabled at all times.</p>
</div>
</details>
<details id="system-call-filter-setting">
<summary class="title">System call filter setting deprecated</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Elasticsearch uses system call filters to remove its ability to fork another
process. This is useful to mitigate remote code exploits. These system call
filters are enabled by default, and controlled via the setting
<code class="literal">bootstrap.system_call_filter</code>. Starting in Elasticsearch 8.0, system call
filters will be required. As such, the setting <code class="literal">bootstrap.system_call_filter</code> is
deprecated and will be removed in Elasticsearch 8.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Discontinue use of the removed setting. Specifying this setting in Elasticsearch
configuration will result in an error on startup.</p>
</div>
</details>
</div>
<div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="migrating-7.12.html">Migrating to 7.12 »</a>
</span>
</div>
</div>
</body>
</html>
